---
lang: ru
layout: home
lang-ref: вызовы-допуск
---

# Распространённые вызовы для воплощения пользовательского доступа к приложению

Список вызовов допуска:

- Вход на площадку (/api/auth/login).
- Выход из площадки (/api/auth/logout).

Другие вызовы, доступ к которым ограничен:

- Получение списка задач (/api/tasks).

## Получение списка задач (пример ограниченного вызова)

Чтобы успешно обработать данный ограниченый вызов площадка должна одобрить
доступ к нему. Одобряет она на основании сведений, которые получает от
пользователя в данном запросе.

Обычно используют какой-то ключ, который может быть указан в:

- Пометке (cookies).
- Каком-то отдельном заголовке (header).
- Поле (param).

В случае, когда ключ:

- Отсутствует.
- Присутствует, но не подходит под условия доступа.

в ответ пользователю можно выдать `HTTP 401 Unathorized`.

Для получения ключа, необходимо использовать вызов "Вход на площадку".

## Вход на площадку

Необходимые поля:

- учётка (login);
- пропуск (password).

### Ответ в случае отсутствия пользователя

Прежде чем выдать ключ доступа (token) для последующих запросов к ограниченным
вызовам необходимо удостовериться, что данный пользователь с заданной учёткой
присутствует на площадке. Если его нет, то выдаём ошибку. По ней не должно быть
понятно что либо учётка не существует, либо неправильный доступ, либо ещё
какая-то причина (например временные ограничения на пользователя).

Ответ:

- Неуспешный вход.

### Ответ в случае неправильного пропуска

Ответ:

- Неуспешный вход.

### Успешный ответ

Ответ:

- Ключ (token).

Так же возможно отдельным вызовом (/auth/login) данный ключ установить в
качестве пометки (session).

## Выход из площадки
